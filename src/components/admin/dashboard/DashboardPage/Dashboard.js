'use client';
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState, useEffect } from 'react';
import Link from 'next/link';
import { Plus, Users, Activity, TrendingUp, Calendar, Settings, FileText, Database, Layout, BarChart3, ArrowUpRight } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { adminService } from '@/services/admin/user/adminService';
import { useToast } from '@/hooks/use-toast';
import { useCurrentUser } from '@/hooks/use-current-user';
export function Dashboard() {
    const [stats, setStats] = useState({
        total: 0,
        growthRate: 0,
        activeUsers: 0,
        activeSessionsCount: 0,
        newUsersThisMonth: 0
    });
    const [loading, setLoading] = useState(true);
    const { toast } = useToast();
    const { user, isLoading: userLoading } = useCurrentUser();
    // Cargar estadísticas
    useEffect(() => {
        const loadStats = async () => {
            try {
                setLoading(true);
                const userStats = await adminService.getUserStats();
                setStats(userStats);
            }
            catch (error) {
                const errorMessage = error instanceof Error ? error.message : "No se pudieron cargar las estadísticas";
                toast({
                    title: "Error",
                    description: errorMessage,
                    variant: "destructive"
                });
                setStats({
                    total: 5,
                    growthRate: 20,
                    activeUsers: 3,
                    activeSessionsCount: 2,
                    newUsersThisMonth: 1
                });
            }
            finally {
                setLoading(false);
            }
        };
        loadStats();
    }, [toast]);
    const userName = user?.name || 'Administrador';
    const currentHour = new Date().getHours();
    const greeting = currentHour < 12 ? 'Buenos días' : currentHour < 18 ? 'Buenas tardes' : 'Buenas noches';
    // Loading state
    if (loading || userLoading) {
        return (_jsx("div", { className: "min-h-screen bg-gray-50 dark:bg-gray-950", children: _jsx("div", { className: "flex items-center justify-center min-h-screen", children: _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-8 border border-gray-200 dark:border-gray-800 shadow-sm", children: [_jsx("div", { className: "animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-gray-900 dark:border-gray-700 dark:border-t-gray-100 mx-auto mb-4" }), _jsx("p", { className: "text-gray-600 dark:text-gray-400 text-center text-sm", children: "Cargando dashboard..." })] }) }) }));
    }
    return (_jsxs("div", { className: "min-h-screen bg-gray-50 dark:bg-gray-950 relative", children: [_jsx("div", { className: "absolute inset-0 bg-gradient-to-b from-gray-50 to-gray-100/50 dark:from-gray-950 dark:to-gray-900/50" }), _jsx("div", { className: "relative z-10 p-8", children: _jsxs("div", { className: "max-w-7xl mx-auto", children: [_jsx("div", { className: "mb-16", children: _jsxs("div", { className: "flex items-start justify-between mb-12", children: [_jsx("div", { className: "space-y-6", children: _jsxs("div", { children: [_jsxs("h1", { className: "text-4xl lg:text-5xl font-medium text-gray-900 dark:text-gray-100 mb-2 tracking-tight leading-tight", children: [greeting, ", ", userName] }), _jsx("p", { className: "text-lg text-gray-600 dark:text-gray-400 font-light tracking-wide", children: "Panel de administraci\u00F3n" })] }) }), _jsx("div", { className: "flex items-center gap-3", children: _jsx(Link, { href: "/admin/dashboard/templates/tourism/create", children: _jsxs(Button, { className: "bg-gray-900 hover:bg-gray-800 dark:bg-gray-100 dark:hover:bg-gray-200 text-white dark:text-gray-900 font-medium px-6 py-3 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-gray-700", children: [_jsx(Plus, { className: "h-4 w-4 mr-2", strokeWidth: 1.5 }), "Crear contenido"] }) }) })] }) }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16", children: [_jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 group", children: [_jsxs("div", { className: "flex items-start justify-between mb-6", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(Users, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsxs("div", { className: "text-right", children: [_jsx("p", { className: "text-2xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight", children: loading ? '...' : stats.total }), _jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 font-medium", children: "Total usuarios" })] })] }), _jsxs("div", { className: "flex items-center text-sm", children: [_jsxs("div", { className: "flex items-center text-emerald-600 dark:text-emerald-400", children: [_jsx(TrendingUp, { className: "h-4 w-4 mr-1", strokeWidth: 1.5 }), _jsxs("span", { className: "font-medium", children: ["+", loading ? '0' : stats.growthRate, "%"] })] }), _jsx("span", { className: "text-gray-400 dark:text-gray-500 ml-2", children: "este mes" })] })] }), _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 group", children: [_jsxs("div", { className: "flex items-start justify-between mb-6", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(Activity, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsxs("div", { className: "text-right", children: [_jsx("p", { className: "text-2xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight", children: loading ? '...' : stats.activeUsers }), _jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 font-medium", children: "Usuarios activos" })] })] }), _jsxs("div", { className: "flex items-center text-sm", children: [_jsxs("div", { className: "flex items-center text-blue-600 dark:text-blue-400", children: [_jsx(Activity, { className: "h-4 w-4 mr-1", strokeWidth: 1.5 }), _jsxs("span", { className: "font-medium", children: [loading ? '0' : stats.activeSessionsCount, " sesiones"] })] }), _jsx("span", { className: "text-gray-400 dark:text-gray-500 ml-2", children: "activas" })] })] }), _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 group", children: [_jsxs("div", { className: "flex items-start justify-between mb-6", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(Calendar, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsxs("div", { className: "text-right", children: [_jsx("p", { className: "text-2xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight", children: loading ? '...' : stats.newUsersThisMonth }), _jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 font-medium", children: "Nuevos este mes" })] })] }), _jsxs("div", { className: "flex items-center text-sm", children: [_jsxs("div", { className: "flex items-center text-purple-600 dark:text-purple-400", children: [_jsx(TrendingUp, { className: "h-4 w-4 mr-1", strokeWidth: 1.5 }), _jsx("span", { className: "font-medium", children: "Crecimiento" })] }), _jsx("span", { className: "text-gray-400 dark:text-gray-500 ml-2", children: "mensual" })] })] }), _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 group", children: [_jsxs("div", { className: "flex items-start justify-between mb-6", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(BarChart3, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsxs("div", { className: "text-right", children: [_jsx("p", { className: "text-2xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight", children: "100%" }), _jsx("p", { className: "text-sm text-gray-500 dark:text-gray-400 font-medium", children: "Sistema" })] })] }), _jsx("div", { className: "flex items-center text-sm", children: _jsxs("div", { className: "flex items-center text-emerald-600 dark:text-emerald-400", children: [_jsx("div", { className: "w-2 h-2 bg-emerald-500 rounded-full mr-2" }), _jsx("span", { className: "font-medium", children: "Operativo" })] }) })] })] }), _jsxs("div", { className: "space-y-8", children: [_jsx("div", { className: "flex items-center justify-between", children: _jsx("h2", { className: "text-2xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight", children: "Acciones r\u00E1pidas" }) }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: [_jsx(Link, { href: "/admin/dashboard/users", className: "group", children: _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1", children: [_jsxs("div", { className: "flex items-center justify-between mb-4", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(Users, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsx(ArrowUpRight, { className: "h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200", strokeWidth: 1.5 })] }), _jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 tracking-tight", children: "Gesti\u00F3n de usuarios" }), _jsx("p", { className: "text-gray-500 dark:text-gray-400 text-sm font-medium", children: "Administrar usuarios y permisos" })] }) }), _jsx(Link, { href: "/admin/dashboard/view-content", className: "group", children: _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1", children: [_jsxs("div", { className: "flex items-center justify-between mb-4", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(FileText, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsx(ArrowUpRight, { className: "h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200", strokeWidth: 1.5 })] }), _jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 tracking-tight", children: "Ver contenido" }), _jsx("p", { className: "text-gray-500 dark:text-gray-400 text-sm font-medium", children: "Revisar y gestionar contenido" })] }) }), _jsx(Link, { href: "/admin/dashboard/templates", className: "group", children: _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1", children: [_jsxs("div", { className: "flex items-center justify-between mb-4", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(Layout, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsx(ArrowUpRight, { className: "h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200", strokeWidth: 1.5 })] }), _jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 tracking-tight", children: "Plantillas" }), _jsx("p", { className: "text-gray-500 dark:text-gray-400 text-sm font-medium", children: "Gestionar plantillas de contenido" })] }) }), _jsx(Link, { href: "/admin/dashboard/content-types", className: "group", children: _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1", children: [_jsxs("div", { className: "flex items-center justify-between mb-4", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(Database, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsx(ArrowUpRight, { className: "h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200", strokeWidth: 1.5 })] }), _jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 tracking-tight", children: "Tipos de contenido" }), _jsx("p", { className: "text-gray-500 dark:text-gray-400 text-sm font-medium", children: "Configurar tipos de contenido" })] }) }), _jsx(Link, { href: "/admin/dashboard/plugins", className: "group", children: _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1", children: [_jsxs("div", { className: "flex items-center justify-between mb-4", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(Plus, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsx(ArrowUpRight, { className: "h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200", strokeWidth: 1.5 })] }), _jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 tracking-tight", children: "Plugins" }), _jsx("p", { className: "text-gray-500 dark:text-gray-400 text-sm font-medium", children: "Gestionar extensiones y plugins" })] }) }), _jsx(Link, { href: "/admin/dashboard/settings", className: "group", children: _jsxs("div", { className: "bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1", children: [_jsxs("div", { className: "flex items-center justify-between mb-4", children: [_jsx("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center", children: _jsx(Settings, { className: "h-5 w-5 text-gray-600 dark:text-gray-400", strokeWidth: 1.5 }) }), _jsx(ArrowUpRight, { className: "h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200", strokeWidth: 1.5 })] }), _jsx("h3", { className: "text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 tracking-tight", children: "Configuraci\u00F3n" }), _jsx("p", { className: "text-gray-500 dark:text-gray-400 text-sm font-medium", children: "Ajustes del sistema" })] }) })] })] })] }) })] }));
}
//# sourceMappingURL=Dashboard.js.map